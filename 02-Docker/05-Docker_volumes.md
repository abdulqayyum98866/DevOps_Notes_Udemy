# Volumes
- The preferred mechanism for persisting data generated by and used by Docker containers,
  independent of the container's lifecycle.
- The container is a volatile.
- The data doesn't persist when that container no longer exist, and it can be
  difficult to get the data out of the container if another process needs it.
- A container's writable layer is tightly coupled to the host machine where the container is running.
  You can't easily move the data somewhere else.

  **Docker has two options for containers to store files in the host machine.**
  
  **Volumes**
- Managed by docker `(/var/lib/docker/volumes/)`

  <img width="483" height="128" alt="image" src="https://github.com/user-attachments/assets/7c08435c-a828-4696-826c-252557d50454" />

  
  **Bind Mounts:**
- Stored anywhere on the host system.

## Reference

**[Docker volumes] :**
- (https://docs.docker.com/engine/storage/volumes/)
- (https://docs.docker.com/reference/cli/docker/volume/)

**Note:**
- To see detail of images go to `docker inspect` cmd.
- Then pull Mysql image (https://hub.docker.com/_/mysql)

## 1 - To know more about container
```md
docker inspect "container name or ID"
```

<img width="629" height="503" alt="image" src="https://github.com/user-attachments/assets/43b7735e-dfe9-479d-8d52-c828deec167b" />

## 2 - Run the Mysql and use custom dir (Bind mount)
```md
docker run --name vprofiledb -d -e MYSQL_ROOT_PASSWORD=mypass -p 3030:3306 -v /home/ubuntu/devops/docker/vprofile_db_data:/var/lib/mysql mysql:5.7
```

<img width="1154" height="264" alt="image" src="https://github.com/user-attachments/assets/26524bce-870f-48db-9741-6e1417416067" />

**Note:**
- The same data is availabe in both dir.

<img width="997" height="239" alt="image" src="https://github.com/user-attachments/assets/98b32218-edcc-4afd-87d5-5aee4c3607c8" />

- If we stop the container the data still there `/devops/docker/vprofile_db_data`

<img width="675" height="108" alt="image" src="https://github.com/user-attachments/assets/9fc8daa3-6b73-48d9-8232-fe543fa95fdc" />

**Volume:**

## 3 - Create a volume
```md
docker volume create "volume name"
```

- To check

```bash
docker volume ls
```

<img width="594" height="390" alt="image" src="https://github.com/user-attachments/assets/0bbb9f46-d2fa-4502-b92d-18baa0a04a5d" />




























